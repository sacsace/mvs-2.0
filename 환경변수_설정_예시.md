# MVS 2.0 환경변수 설정 가이드

## 🔐 **필수 환경변수 설정**

### **1. .env 파일 생성**
프로젝트 루트에 `.env` 파일을 생성하고 다음 내용을 추가하세요:

```bash
# 데이터베이스 설정
DB_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql://postgres:your_secure_password_here@localhost:5432/mvs

# JWT 설정
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long

# 푸시 알림 설정 (VAPID 키)
VAPID_PUBLIC_KEY=your_vapid_public_key_here
VAPID_PRIVATE_KEY=your_vapid_private_key_here
VAPID_EMAIL=mailto:admin@yourcompany.com

# API 설정
API_URL=http://localhost:3001
REACT_APP_API_URL=http://localhost:3001

# Docker Hub 설정
DOCKER_USERNAME=minsub  # 실제 Docker Hub 사용자명
DOCKER_PASSWORD=your_docker_hub_token

# 서버 설정
NODE_ENV=development
PORT=3001
SERVER_HOST=localhost
ALLOWED_ORIGINS=http://localhost:3000,http://192.168.1.202:3000
```

### **2. GitHub Secrets 설정**
GitHub 리포지토리 → Settings → Secrets and variables → Actions에서 설정:

- `DOCKER_PASSWORD`: Docker Hub 액세스 토큰
- `REACT_APP_API_URL`: 프로덕션 API URL
- `JWT_SECRET`: JWT 비밀키
- `VAPID_PUBLIC_KEY`: 생성된 VAPID 공개 키
- `VAPID_PRIVATE_KEY`: 생성된 VAPID 개인 키
- `VAPID_EMAIL`: VAPID 이메일 (예: mailto:admin@yourcompany.com)

### **3. Docker Hub 사용자명 확인**
Docker Hub에 로그인하여 정확한 사용자명을 확인하세요:
- 현재 가정: `minsub`
- 이메일: `minsub.lee@gmail.com`

### **4. VAPID 키 생성**
푸시 알림을 위한 VAPID 키를 생성하세요:

```bash
cd server
node generate-vapid-keys.js
```

생성된 키들을 `.env` 파일과 GitHub Secrets에 추가하세요:
- `VAPID_PUBLIC_KEY`: 생성된 공개 키
- `VAPID_PRIVATE_KEY`: 생성된 개인 키
- `VAPID_EMAIL`: 연락처 이메일 (예: mailto:admin@yourcompany.com)

### **5. Docker Hub 액세스 토큰 생성**
1. Docker Hub → Account Settings → Security
2. "New Access Token" 클릭
3. "MVS-2.0-CI" 같은 이름으로 생성
4. 생성된 토큰을 GitHub Secrets에 추가

